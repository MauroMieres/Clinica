<div class="fondo-clinica">
  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card p-4 shadow w-100 mt-5" style="max-width: 900px;">
      <h2 class="mb-4 text-center">Mis horarios de atención</h2>

      <div *ngFor="let dia of diasSemana" class="mb-4 border rounded p-3 bg-light">
        <h5>{{ dia }}</h5>

        <div *ngFor="let esp of especialidades">
          <div class="mb-2">
            <strong>{{ esp.nombre }}</strong>
            <div *ngIf="horariosGuardados[dia] && horariosGuardados[dia][esp.id]" class="mb-2">
              <small class="text-muted">
                Ya cargado: {{ horariosGuardados[dia][esp.id].hora_inicio }} a {{ horariosGuardados[dia][esp.id].hora_fin }}
                (duración: {{ horariosGuardados[dia][esp.id].duracion_turno }} min)
              </small>
            </div>
          </div>

          <div class="row g-2 align-items-center mb-3">
            <div class="col-md-3">
              <label>Inicio</label>
              <input type="time" class="form-control" [(ngModel)]="horarios[dia][esp.id].hora_inicio" />
            </div>
            <div class="col-md-3">
              <label>Fin</label>
              <input type="time" class="form-control" [(ngModel)]="horarios[dia][esp.id].hora_fin" />
            </div>
            <div class="col-md-3">
              <label>Duración (min)</label>
              <input type="number" class="form-control" min="30" [(ngModel)]="horarios[dia][esp.id].duracion_turno" />
            </div>
            <div class="col-md-2 mt-4">
              <label>
                <input type="checkbox" [(ngModel)]="horarios[dia][esp.id].activo" /> Activo
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center">
        <button class="btn btn-primary" (click)="guardarHorarios()">Guardar horarios</button>
      </div>
    </div>
  </div>
</div>
